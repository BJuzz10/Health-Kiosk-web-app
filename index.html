<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Defines character encoding for the page -->
    <meta charset="UTF-8">
    <!-- Ensures the page is responsive on all devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Data Input</title>
</head>
<body>
    <!-- Main heading -->
    <h1>Welcome to Mark3 Health Kiosk</h1>
    <h2>Enter Your Health Data</h2>
    
    <!-- Form where users input their health data -->
    <form id="healthForm">
        <!-- Name input -->
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <!-- age -->
        <label for="age">Age:</label>
        <input type="text" id="age" name="age" required><br><br>

        <!-- sex g? -->
        <label for="sex">Sex(Male/Female)</label>
        <input type="text" id="sex" name="sex" required><br><br>
        
        <!-- Blood Pressure Input Field -->
        <label for="bp">Blood Pressure(mmHg):</label>
        <input type="text" id="bp" name="bp"><br><br>
        
        <!-- Oxygen Saturation Input Field -->
        <label for="oxygen">Oxygen Saturation(%):</label>
        <input type="text" id="oxygen" name="oxygen"><br><br>
        
        <!-- Temperature Input Field -->
        <label for="temp">Temperature(Â°C):</label>
        <input type="text" id="temp" name="temp"><br><br>
        
        <!-- Submit Button -->
        <button type="submit">Enter</button>
    </form>
    
    <!-- Area to display the response from the server -->
    <h3>Health Data Response:</h3>
    <pre id="response"></pre>
    
    <script>
        // Attach an event listener to the form submission
        document.getElementById("healthForm").addEventListener("submit", function(event) {
            event.preventDefault();  // Prevents page reload when the form is submitted
            
            let formData = new FormData(this);  // Collects the input values from the form
            
            // Sends a POST request to the Flask backend
            fetch("/get_health_data", {
                method: "POST",
                body: formData  // Sends the collected form data to the server
            })
            .then(response => response.json())  // Converts the response into JSON
            .then(data => {
                // Displays the server response inside the <pre> tag
                document.getElementById("response").textContent = JSON.stringify(data, null, 2);
            })
            .catch(error => console.error("Error:", error));  // Logs errors (if any)
        });
    </script>
</body>
</html>
